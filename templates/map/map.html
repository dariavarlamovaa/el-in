{% extends 'base/base.html' %}
{% load static %}
{% load i18n %}

{% block css %}
<link rel="stylesheet" href="{% static 'places/css/map.css' %}">
{% endblock %}

{% block leaflet %}
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
{% endblock leaflet %}

{% block title %}{% trans "Map" %}{% endblock %}
{% block content %}
<section class="map-section">
    <div class="full-map container">
        <div id="map"></div>
    </div>
</section>
{% endblock %}

{% block script_block %}
<script>
    // getting latitude and longitude of the place
    var places = "{{ places }}"
    var myIcon = L.icon({
        iconUrl: '../../../static/places/images/round-pushpin.svg',
        iconSize: [29, 24]
    })

    // map init
    var map = L.map('map').setView([65.309345, 26.278694], 5);

    var Jawg_Dark = L.tileLayer('https://tile.jawg.io/jawg-dark/{z}/{x}/{y}{r}.png?access-token={accessToken}', {
        attribution: '<a href="https://jawg.io" title="Tiles Courtesy of Jawg Maps" target="_blank">&copy; <b>Jawg</b>Maps</a> &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
        minZoom: 0,
        maxZoom: 22,
        accessToken: 'SsGvI1cBUlx6m7qrBwvGWFABDoxJ0sVm4qN7oB1eHlDuTgAA1BfDvF05lMuRkQgs'
    });

    Jawg_Dark.addTo(map)
</script>
{% endblock %}