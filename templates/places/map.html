{% extends 'base/base.html' %}
{% load static %}
{% load i18n %}

{% block leaflet %}
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.css"/>
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.Default.css"/>
<script src="https://unpkg.com/leaflet.markercluster/dist/leaflet.markercluster.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-search@3.0.2/dist/leaflet-search.min.css"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-search/3.0.2/leaflet-search.min.js"></script>
{% endblock leaflet %}

{% block css %}
<link rel="stylesheet" href="{% static 'places/css/map.css' %}">
<link rel="stylesheet" href="{% static 'places/css/media_map.css' %}">
{% endblock %}

{% block title %}{% trans "Map" %}{% endblock %}
{% block content %}
<section class="map-section">
    <div class="full-map container">
        <div class="search-for-places">
            <input id="search-input" type="text" placeholder="search by city or place">
            <img id="search-img" src="{% static 'places/images/search-icon.svg' %}" alt="">
        </div>
        <div id="map"></div>
        <div class="show-as">
            <div class="show-as--div">
                <div class="show-as-list show-as--div2">
                    <a class="show-as--link" href="{% url 'places' %}">
                        <img src="{% static 'places/images/list.svg' %}" alt="list">
                        <p>{% trans 'List' %}</p>
                    </a>
                </div>
            </div>
        </div>
    </div>

    {{ places|json_script:"places_json"}}
</section>
{% endblock %}

{% block script_block %}
<script src="{% static 'js/main_map.js' %}"></script>
<script src="{% static 'js/search-input.js' %}"></script>
{% endblock %}